# Помоги мне спроектировать системы в приложения и их взаимодействие

Приложение - это менеджер паролей, у него будет несколько станиц. Я накидал приблизительный план того как я вижу приложение, тут есть не все, ты должен доделать план, если нужно что-то менять или корректировать то ты свободен в действиях. То есть ты должен верхнеуровнево спроектировать архитектуру приложение, системы, сущности, структуры данных, архитектурные границы и т.д

## Стэк
- Typescript

## Платформа
- desktop

## Фреймворки и инструменты
- remix и electron

## Предложение по архитектуре
использовать классический вариант DDD (даже если избыточно, это нужно в учебных целях)

Мы должны использовать принципы хорошей архитектуры, паттерны и принципы для абстракций и композиций, чтобы код можно было расширять

## Сущности
Ресурс - это сущность набора паролей, у одного ресурса может быть много паролей, но минимум один. У ресурса есть имя и неймспейс, например:  
[social]: facebook  
где social это неймспейс, а facebook это имя

## Страницы
- **Главная страница** - это перечень всех ресурсов с паролями в виде списка и поиска по этому списку
- **Детальная страница** - это страница которая будет отображать все пароли в выбранном на главной странице ресурсе, а также возможность редактировать каждое поле отдельно и добавлять поля в ресурс в виде формы с динамическими полями
- **Страница генерации пароля** - тут будут настройки для генерации нового пароля
- **Страница создания пароля** - вверху облако тегов из уже доступных в приложении неймспейсов, а также кнопка для создания нового неймспейса. Из этого облака мы выбираем нужный нам неймспейс. Ниже поле для ввода имени создаваемого ресурса, еще ниже поле с неизменяемым лейблом secret и полем для ввода этого секрета, еще ниже кнопка для добавления динамического поля в которое уже можно ввести лейблы(ключ) и значение.

## Идея
Основная идея заключается в том, чтобы с приложением можно было полностью можно было взаимодействовать с клавиатуры.  
Для реализации этого я хочу что бы приложение было модальным, на данный момент я вижу два режим:  
- **Режим навигации** - в этом режиме на высоком уровне мы перемещаемся между страницами приложения, на уровне странице мы перемещаемся по полям, элементам списков и т.д. Для перехода в режим редактирования мы используем клавишу enter или в иных случаях переходим на другую страницу, например если мы находимся на главной странице на поле конкретного ресурса, то при нажатии на enter мы попадаем на страницу этого ресурса, а находясь на странице ресурса выбрав в режиме навигации интересующее нас поле при нажатии enter мы переходим в режим редактирования этого поля  
- **Режим редактирования** - в этом режиме у нас включаются кеймапы режима редактирования, а не режима навигации, например если мы редактируем поле, то при нажатии на esc мы выходим из режима редактирования в режим навигации с соответсвующими кеймапами

## Дополнительные функции
- **Попап с нотификациями** - сюда выводятся все сообщения об ошибках валидации или успешности какого либо действия. Эта функция будет в виде тоста в верхнем правом углу приложения  
- **Строка с информацией о горячих клавишах** - она должна выводится информация о том, какие на данные момент доступны горячи клавиши - так как у нас модальное приложение и приложение имеет несколько страниц, то кеймапы в разный момент жизни приложения разные

## Системы и структуры данных
### Система кеймапов (предварительные наброски о системе)
это система должна быть абстрагированна от других систем приложения, ее нужно спроектировать так, чтобы у каждого кеймапа была информация о том, на каких кеймпапах он активируется, возможно сюда должна передаваться функция, которая должна быть выполнена при нажатии, так же описание кеймапа в виде текста, так же возможно какая-то метаинформация, также описание в виде того, по каким клавишам он активируется, а также иконки. Например  
Кеймап сохранения ресурса  
- name: "save_resource",  
- action: function (или массив function),  
- title: "Ctrl + s",  
- descritption: "Save resource",  
- icon: "ctrl_s.svg",  
- activation_key: (возможно коды клавиш)  

Также нужно подумать, функция сохранения используется на двух страницах, например создание ресурса и редактирования - как будет ли это две отдельных сущности кеймапов или сущность одна но инициирована с двумя разными описаниями и функциями экшенами. Нужно подумать в какой системе хранить данные в каком моде приложения этот кеймап активен, нужно ли хранить ее в этой системе или нужно хранить в системе модальности или хранить в двух местах, так же нужны ли знания о роутенге, то есть будет ли здесь информация о роуте, потому что разные кеймапы могут быть доступны на разных роутах

### Система модальности (предварительные наброски о системе)
будет хранить данные о том в каком режиме сейчас находится приложение, возможно будет иметь знания об активных кеймапапх, нужны ли знания на о роуте, потому что не на всех страницах будет модальность, какие-то страницы могут быть просто с информацией. Изменение модальности будет оказывать влияние на дизайн, например менять цвет полей, а так же выводить статус режима в статус баре - это разные части приложения, но нам нужно хорошая архитектураная изоляция во всех этих вещах